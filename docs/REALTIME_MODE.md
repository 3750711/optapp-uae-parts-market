# –†–µ–∂–∏–º –±–µ–∑ Realtime

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ WebSocket/Realtime —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏–ª–∏ –æ—Ç–ª–∞–¥–∫–∏.

## –ö–∞–∫ –æ—Ç–∫–ª—é—á–∏—Ç—å Realtime

### –°–ø–æ—Å–æ–± 1: Runtime –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ò–∑–º–µ–Ω–∏—Ç–µ `public/runtime-config.json`:

```json
{
  "SUPABASE_URL": "https://api.partsbay.ae",
  "REALTIME_ENABLED": false,
  "DEBUG_AUTH": false
}
```

### –°–ø–æ—Å–æ–± 2: Environment –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ `.env`:

```
VITE_REALTIME_ENABLED=false
```

## –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏

‚úÖ **–ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:**
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–≤—Ö–æ–¥/–≤—ã—Ö–æ–¥/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —á–µ—Ä–µ–∑ HTTP API
- –í—Å–µ REST –∑–∞–ø—Ä–æ—Å—ã –∫ Supabase
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã
- React Query –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

üö´ **–û—Ç–∫–ª—é—á–∞–µ—Ç—Å—è:**
- WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- Real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Live –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ö–∞–Ω–∞–ª—ã Supabase (`postgres_changes`)

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

1. –í DevTools ‚Üí Network ‚Äî –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö `wss://` —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
2. –ù–∞ `/debug/auth-inspect` ‚Äî —Å—Ç–∞—Ç—É—Å —Ñ–ª–∞–≥–æ–≤ –≤ —Å–µ–∫—Ü–∏–∏ "Feature Flags"
3. `supabase.getChannels()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
4. –í –∫–æ–Ω—Å–æ–ª–∏ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –ø—Ä–æ Realtime

## –í–∫–ª—é—á–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ

–í–µ—Ä–Ω–∏—Ç–µ `REALTIME_ENABLED: true` –≤ runtime-config.json –∏–ª–∏ —É–±–µ—Ä–∏—Ç–µ env –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.

## –û—Ç–ª–∞–¥–∫–∞

–í–∫–ª—é—á–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏:

```json
{
  "REALTIME_ENABLED": true,
  "DEBUG_AUTH": true
}
```

–õ–æ–≥–∏ –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:
- `[RT]` - —Å–æ–±—ã—Ç–∏—è realtime –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- `[AUTH]` - —Å–æ–±—ã—Ç–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏  
- `[FLAGS]` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–ª–∞–≥–æ–≤

## –§–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã

- `src/config/flags.ts` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–ª–∞–≥–æ–≤
- `src/utils/realtimeManager.ts` - –º–µ–Ω–µ–¥–∂–µ—Ä realtime —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- `src/contexts/AuthContext.tsx` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- `src/hooks/useNotifications.ts` - –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–ª–∞–≥–æ–≤
- `public/runtime-config.json` - runtime –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è